name: Doc Sync On Command
permissions:
  contents: write
  pull-requests: write
on:
  workflow_dispatch:    # adds the “Run workflow” button
  pull_request:
    types: [opened, synchronize, reopened]   # only creates the check

jobs:
  doc-sync:
    if: >
      github.event_name == 'workflow_dispatch' ||
      (github.event_name == 'pull_request' && github.actor == github.repository_owner)
    uses: activadee/codex-shared-workflows/workflows/codex-doc-sync.yml@main
    secrets: inherit
